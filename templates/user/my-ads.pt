<div metal:use-macro="load: ../shared/_layout.pt">
<__additional_script__ metal:fill-slot="additional_script" tal:omit-tag="True">
  <script src="/public/scripts/switch-tables.js" defer></script>
  <script src="/public/scripts/delete-ad.js" defer></script>
</__additional_script__>
<__additional_stylesheet__ metal:fill-slot="additional_stylesheet" tal:omit-tag="True">
<style>
  tr:has(span.deleted) td:not(td.status, td.action) {
    opacity: 0.5;
  }
</style>
</__additional_stylesheet__>
  <div metal:fill-slot="title" tal:omit-tag="True">
    <title> Os Meus Anúncios | Classify</title>
  </div>
  <div metal:fill-slot="content" tal:omit-tag="True">

    <div
      class="page_banner bg_cover"
      style="background-image: url(/public/assets/images/page-banner.jpg)">
      <div class="container">
        <div class="page_banner_content">
          <h3 class="title">Os Meus Anúncios</h3>
          <ul class="breadcrumb">
            <li><a href="/">Home</a></li>
            <li>Os Meus Anúncios</li>
          </ul>
        </div>
      </div>
    </div>
 

    <!--====== HEADER PART ENDS ======-->

    <!--====== My Ads PART START ======-->

    <section class="my_ads_page pt-70 pb-120">
      <div class="container">
        <div class="row">
          <div metal:use-macro="load: ../shared/_user_sidebar.pt">
          
          </div>
          <div class="col-lg-9">
            <div class="my_ads mt-50">
              <div class="post_title">
                <h5 class="title">Os Meus Anúncios</h5>
              </div>
              <div class="my_ads_menu">
                <ul class="ads_menu nav" id="myTab" role="tablist">
                  <li>
                    <a
                      class="active"
                      id="ads_all-tab"
                      data-toggle="tab"
                      href="#ads_all"
                      role="tab"
                      aria-controls="ads_all"
                      aria-selected="true"
                      >Todos (${ad_count_total})</a
                    >
                  </li>
                  <li>
                    <a
                      id="ads_active-tab"
                      data-toggle="tab"
                      href="#ads_active"
                      role="tab"
                      aria-controls="ads_active"
                      aria-selected="false"
                      >Ativos (${ad_count_active})</a
                    >
                  </li>
                  <li>
                    <a
                      id="ads_inactive-tab"
                      data-toggle="tab"
                      href="#ads_inactive"
                      role="tab"
                      aria-controls="ads_inactive"
                      aria-selected="false"
                      >Inativos (${ad_count_inactive})</a
                    >
                  </li>
                  <li>
                    <a
                      id="ads_expired-tab"
                      data-toggle="tab"
                      href="#ads_expired"
                      role="tab"
                      aria-controls="ads_expired"
                      aria-selected="false"
                      >Expirados (${ad_count_expired})</a
                    >
                  </li>
                  <li>
                    <a
                      id="ads_sold-tab"
                      data-toggle="tab"
                      href="#ads_sold"
                      role="tab"
                      aria-controls="ads_sold"
                      aria-selected="false"
                      >Vendidos (${ad_count_sold})</a
                    >
                  </li>
                  <li>
                    <a
                      id="ads_deleted-tab"
                      data-toggle="tab"
                      href="#ads_deleted"
                      role="tab"
                      aria-controls="ads_deleted"
                      aria-selected="false"
                      >Apagados (${ad_count_deleted})</a
                    >
                  </li>
                </ul>
              </div>
              <div class="ads_table table-responsive mt-30" id="ads-table-all">
                <div
                  class="tab-pane fade show active"
                  id="ads_all"
                  role="tabpanel"
                  aria-labelledby="ads_all-tab"
                >
                  <table class="table">
                    <thead>
                      <tr>
                        <th class="photo">Foto</th>
                        <th class="title">Título</th>
                        <th class="category">Subcategoria</th>
                        <th class="status">Status</th>
                        <th class="price">Preço</th>
                        <th class="action">Ação</th>
                      </tr>
                    </thead>
                    <tbody>
                      <__repeat tal:repeat="ad all_ads" tal:omit-tag="True">
                        <tr>
                          <td class="photo">
                            <div class="table_photo">
                              <a tal:condition="ad.status_id != 5" href="/ad/${ad.id}">
                                <img
                                  src="${ad.main_image}"
                                  alt="Imagem"
                                />
                              </a>
                              <a tal:condition="ad.status_id == 5" tal:omit-tag="True">
                                <img
                                  src="${ad.main_image}"
                                  alt="Imagem"
                                />
                              </a>
                            </div>
                          </td>
                          <td class="title">
                            <div class="table_title">
                                <h6 class="titles">
                                  <a tal:condition="ad.status_id != 5" href="/ad/${ad.id}">${ad.title}</a>
                                  <a tal:condition="ad.status_id == 5">${ad.title}</a>
                                </h6>
                                <p>Ad ID: ${ad.id}</p>
                            </div>
                          </td>
                          <td class="category">
                            <div class="table_category">
                              <p>${ad.subcategory.subcategory_name}</p>
                            </div>
                          </td>
                          <td class="status">
                            <div class="table_status">
                              <span class="${ad.ad_status.status_name_internal}" title="${ad.ad_status.status_description}">${ad.ad_status.status_name}</span>
                            </div>
                          </td>
                          <td class="price">
                            <div class="table_price">
                              <span>${ad.price}€</span>
                            </div>
                          </td>
                          <td class="action">
                            <div class="table_action">
                              <ul tal:condition="ad.status_id != 5">
                                <li>
                                  <a href="#"><i class="fal fa-eye"></i></a>
                                </li>
                                <li>
                                  <a href="#"><i class="fal fa-pencil"></i></a>
                                </li>
                                <li>
                                  <a style="cursor: pointer;" class='delete-btn' data-adid="${ad.id}"><i class="fal fa-trash-alt"></i></a>
                                </li>
                              </ul>
                              <button tal:condition="ad.status_id == 5" class="main-btn">Recuperar</button>
                            </div>
                          </td>
                        </tr>
                      </__repeat>
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="ads_table table-responsive" id="ads-table-active" style="max-height:0px;">
                <div
                  class="tab-pane fade"
                  id="ads_active"
                  role="tabpanel"
                  aria-labelledby="ads_active-tab"
                >
                  <table class="table">
                    <thead>
                      <tr>
                        <th class="photo">Foto</th>
                        <th class="title">Título</th>
                        <th class="category">Subcategoria</th>
                        <th class="status">Status</th>
                        <th class="price">Preço</th>
                        <th class="action">Ação</th>
                      </tr>
                    </thead>
                    <tbody>
                      <__repeat tal:repeat="ad all_active_ads" tal:omit-tag="True">
                        <tr>
                          <td class="photo">
                            <div class="table_photo">
                              <a tal:condition="ad.status_id != 5" href="/ad/${ad.id}">
                                <img
                                  src="${ad.main_image}"
                                  alt="Imagem"
                                />
                              </a>
                              <a tal:condition="ad.status_id == 5" tal:omit-tag="True">
                                <img
                                  src="${ad.main_image}"
                                  alt="Imagem"
                                />
                              </a>
                            </div>
                          </td>
                          <td class="title">
                            <div class="table_title">
                                <h6 class="titles">
                                  <a tal:condition="ad.status_id != 5" href="/ad/${ad.id}">${ad.title}</a>
                                  <a tal:condition="ad.status_id == 5">${ad.title}</a>
                                </h6>
                                <p>Ad ID: ${ad.id}</p>
                            </div>
                          </td>
                          <td class="category">
                            <div class="table_category">
                              <p>${ad.subcategory.subcategory_name}</p>
                            </div>
                          </td>
                          <td class="status">
                            <div class="table_status">
                              <span class="${ad.ad_status.status_name_internal}" title="${ad.ad_status.status_description}">${ad.ad_status.status_name}</span>
                            </div>
                          </td>
                          <td class="price">
                            <div class="table_price">
                              <span>${ad.price}€</span>
                            </div>
                          </td>
                          <td class="action">
                            <div class="table_action">
                              <ul tal:condition="ad.status_id != 5">
                                <li>
                                  <a href="#"><i class="fal fa-eye"></i></a>
                                </li>
                                <li>
                                  <a href="#"><i class="fal fa-pencil"></i></a>
                                </li>
                                <li>
                                  <a style="cursor: pointer;" class='delete-btn' data-adid="${ad.id}"><i class="fal fa-trash-alt"></i></a>
                                </li>
                              </ul>
                              <button tal:condition="ad.status_id == 5" class="main-btn">Recuperar</button>
                            </div>
                          </td>
                        </tr>
                      </__repeat>
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="ads_table table-responsive" id="ads-table-inactive" style="max-height:0px;">
                <div
                  class="tab-pane fade"
                  id="ads_inactive"
                  role="tabpanel"
                  aria-labelledby="ads_inactive-tab"
                >
                  <table class="table">
                    <thead>
                      <tr>
                        <th class="photo">Foto</th>
                        <th class="title">Título</th>
                        <th class="category">Subcategoria</th>
                        <th class="status">Status</th>
                        <th class="price">Preço</th>
                        <th class="action">Ação</th>
                      </tr>
                    </thead>
                    <tbody>
                      <__repeat tal:repeat="ad all_inactive_ads" tal:omit-tag="True">
                        <tr>
                          <td class="photo">
                            <div class="table_photo">
                              <a tal:condition="ad.status_id != 5" href="/ad/${ad.id}">
                                <img
                                  src="${ad.main_image}"
                                  alt="Imagem"
                                />
                              </a>
                              <a tal:condition="ad.status_id == 5" tal:omit-tag="True">
                                <img
                                  src="${ad.main_image}"
                                  alt="Imagem"
                                />
                              </a>
                            </div>
                          </td>
                          <td class="title">
                            <div class="table_title">
                                <h6 class="titles">
                                  <a tal:condition="ad.status_id != 5" href="/ad/${ad.id}">${ad.title}</a>
                                  <a tal:condition="ad.status_id == 5">${ad.title}</a>
                                </h6>
                                <p>Ad ID: ${ad.id}</p>
                            </div>
                          </td>
                          <td class="category">
                            <div class="table_category">
                              <p>${ad.subcategory.subcategory_name}</p>
                            </div>
                          </td>
                          <td class="status">
                            <div class="table_status">
                              <span class="${ad.ad_status.status_name_internal}" title="${ad.ad_status.status_description}">${ad.ad_status.status_name}</span>
                            </div>
                          </td>
                          <td class="price">
                            <div class="table_price">
                              <span>${ad.price}€</span>
                            </div>
                          </td>
                          <td class="action">
                            <div class="table_action">
                              <ul tal:condition="ad.status_id != 5">
                                <li>
                                  <a href="#"><i class="fal fa-eye"></i></a>
                                </li>
                                <li>
                                  <a href="#"><i class="fal fa-pencil"></i></a>
                                </li>
                                <li>
                                  <a style="cursor: pointer;" class='delete-btn' data-adid="${ad.id}"><i class="fal fa-trash-alt"></i></a>
                                </li>
                              </ul>
                              <button tal:condition="ad.status_id == 5" class="main-btn">Recuperar</button>
                            </div>
                          </td>
                        </tr>
                      </__repeat>
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="ads_table table-responsive" id="ads-table-expired" style="max-height:0px;">
                <div
                  class="tab-pane fade"
                  id="ads_expired"
                  role="tabpanel"
                  aria-labelledby="ads_expired-tab"
                >
                  <table class="table">
                    <thead>
                      <tr>
                        <th class="photo">Foto</th>
                        <th class="title">Título</th>
                        <th class="category">Subcategoria</th>
                        <th class="status">Status</th>
                        <th class="price">Preço</th>
                        <th class="action">Ação</th>
                      </tr>
                    </thead>
                    <tbody>
                      <__repeat tal:repeat="ad all_expired_ads" tal:omit-tag="True">
                        <tr>
                          <td class="photo">
                            <div class="table_photo">
                              <a tal:condition="ad.status_id != 5" href="/ad/${ad.id}">
                                <img
                                  src="${ad.main_image}"
                                  alt="Imagem"
                                />
                              </a>
                              <a tal:condition="ad.status_id == 5" tal:omit-tag="True">
                                <img
                                  src="${ad.main_image}"
                                  alt="Imagem"
                                />
                              </a>
                            </div>
                          </td>
                          <td class="title">
                            <div class="table_title">
                                <h6 class="titles">
                                  <a tal:condition="ad.status_id != 5" href="/ad/${ad.id}">${ad.title}</a>
                                  <a tal:condition="ad.status_id == 5">${ad.title}</a>
                                </h6>
                                <p>Ad ID: ${ad.id}</p>
                            </div>
                          </td>
                          <td class="category">
                            <div class="table_category">
                              <p>${ad.subcategory.subcategory_name}</p>
                            </div>
                          </td>
                          <td class="status">
                            <div class="table_status">
                              <span class="${ad.ad_status.status_name_internal}" title="${ad.ad_status.status_description}">${ad.ad_status.status_name}</span>
                            </div>
                          </td>
                          <td class="price">
                            <div class="table_price">
                              <span>${ad.price}€</span>
                            </div>
                          </td>
                          <td class="action">
                            <div class="table_action">
                              <ul tal:condition="ad.status_id != 5">
                                <li>
                                  <a href="#"><i class="fal fa-eye"></i></a>
                                </li>
                                <li>
                                  <a href="#"><i class="fal fa-pencil"></i></a>
                                </li>
                                <li>
                                  <a style="cursor: pointer;" class='delete-btn' data-adid="${ad.id}"><i class="fal fa-trash-alt"></i></a>
                                </li>
                              </ul>
                              <button tal:condition="ad.status_id == 5" class="main-btn">Recuperar</button>
                            </div>
                          </td>
                        </tr>
                      </__repeat>
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="ads_table table-responsive" id="ads-table-sold" style="max-height:0px;">
                <div
                  class="tab-pane fade"
                  id="ads_sold"
                  role="tabpanel"
                  aria-labelledby="ads_sold-tab"
                >
                  <table class="table">
                    <thead>
                      <tr>
                        <th class="photo">Foto</th>
                        <th class="title">Título</th>
                        <th class="category">Subcategoria</th>
                        <th class="status">Status</th>
                        <th class="price">Preço</th>
                        <th class="action">Ação</th>
                      </tr>
                    </thead>
                    <tbody>
                      <__repeat tal:repeat="ad all_sold_ads" tal:omit-tag="True">
                        <tr>
                          <td class="photo">
                            <div class="table_photo">
                              <a tal:condition="ad.status_id != 5" href="/ad/${ad.id}">
                                <img
                                  src="${ad.main_image}"
                                  alt="Imagem"
                                />
                              </a>
                              <a tal:condition="ad.status_id == 5" tal:omit-tag="True">
                                <img
                                  src="${ad.main_image}"
                                  alt="Imagem"
                                />
                              </a>
                            </div>
                          </td>
                          <td class="title">
                            <div class="table_title">
                                <h6 class="titles">
                                  <a tal:condition="ad.status_id != 5" href="/ad/${ad.id}">${ad.title}</a>
                                  <a tal:condition="ad.status_id == 5">${ad.title}</a>
                                </h6>
                                <p>Ad ID: ${ad.id}</p>
                            </div>
                          </td>
                          <td class="category">
                            <div class="table_category">
                              <p>${ad.subcategory.subcategory_name}</p>
                            </div>
                          </td>
                          <td class="status">
                            <div class="table_status">
                              <span class="${ad.ad_status.status_name_internal}" title="${ad.ad_status.status_description}">${ad.ad_status.status_name}</span>
                            </div>
                          </td>
                          <td class="price">
                            <div class="table_price">
                              <span>${ad.price}€</span>
                            </div>
                          </td>
                          <td class="action">
                            <div class="table_action">
                              <ul tal:condition="ad.status_id != 5">
                                <li>
                                  <a href="#"><i class="fal fa-eye"></i></a>
                                </li>
                                <li>
                                  <a href="#"><i class="fal fa-pencil"></i></a>
                                </li>
                                <li>
                                  <a style="cursor: pointer;" class='delete-btn' data-adid="${ad.id}"><i class="fal fa-trash-alt"></i></a>
                                </li>
                              </ul>
                              <button tal:condition="ad.status_id == 5" class="main-btn">Recuperar</button>
                            </div>
                          </td>
                        </tr>
                      </__repeat>
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="ads_table table-responsive" id="ads-table-deleted" style="max-height:0px;">
                <div
                  class="tab-pane fade"
                  id="ads_deleted"
                  role="tabpanel"
                  aria-labelledby="ads_deleted-tab"
                >
                  <table class="table">
                    <thead>
                      <tr>
                        <th class="photo">Foto</th>
                        <th class="title">Título</th>
                        <th class="category">Subcategoria</th>
                        <th class="status">Status</th>
                        <th class="price">Preço</th>
                        <th class="action">Ação</th>
                      </tr>
                    </thead>
                    <tbody>
                      <__repeat tal:repeat="ad all_deleted_ads" tal:omit-tag="True">
                        <tr>
                          <td class="photo">
                            <div class="table_photo">
                              <a tal:condition="ad.status_id != 5" href="/ad/${ad.id}">
                                <img
                                  src="${ad.main_image}"
                                  alt="Imagem"
                                />
                              </a>
                              <a tal:condition="ad.status_id == 5" tal:omit-tag="True">
                                <img
                                  src="${ad.main_image}"
                                  alt="Imagem"
                                />
                              </a>
                            </div>
                          </td>
                          <td class="title">
                            <div class="table_title">
                                <h6 class="titles">
                                  <a tal:condition="ad.status_id != 5" href="/ad/${ad.id}">${ad.title}</a>
                                  <a tal:condition="ad.status_id == 5">${ad.title}</a>
                                </h6>
                                <p>Ad ID: ${ad.id}</p>
                            </div>
                          </td>
                          <td class="category">
                            <div class="table_category">
                              <p>${ad.subcategory.subcategory_name}</p>
                            </div>
                          </td>
                          <td class="status">
                            <div class="table_status">
                              <span class="${ad.ad_status.status_name_internal}" title="${ad.ad_status.status_description}">${ad.ad_status.status_name}</span>
                            </div>
                          </td>
                          <td class="price">
                            <div class="table_price">
                              <span>${ad.price}€</span>
                            </div>
                          </td>
                          <td class="action">
                            <div class="table_action">
                              <ul tal:condition="ad.status_id != 5">
                                <li>
                                  <a href="#"><i class="fal fa-eye"></i></a>
                                </li>
                                <li>
                                  <a href="#"><i class="fal fa-pencil"></i></a>
                                </li>
                                <li>
                                  <a style="cursor: pointer;" class='delete-btn' data-adid="${ad.id}"><i class="fal fa-trash-alt"></i></a>
                                </li>
                              </ul>
                              <button tal:condition="ad.status_id == 5" class="main-btn">Recuperar</button>
                            </div>
                          </td>
                        </tr>
                      </__repeat>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!--====== My Ads PART ENDS ======-->
  </div>
</div>